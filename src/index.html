<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>WebGPU-Notes</title>
    <style>
        body {
            margin: 0;
            padding: 30px;
            background-color: #333;
            color: #fff;
            font-family: Arial, sans-serif;
        }

        #content {
            margin: 0 auto;
            padding: 20px;
            max-width: 900px;
            background: #222;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        pre {
            overflow-x: auto;
            border-radius: 6px;
        }

        iframe {
            border: none;
            overflow: hidden;
        }
    </style>
    <!-- 引入 marked.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- 白天模式 -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/styles/default.min.css"> -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js/styles/github.min.css"> -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js/styles/atom-one-light.min.css"> -->
    <!-- 夜间模式 -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js/styles/monokai.min.css"> -->
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js/styles/github-dark.min.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js/styles/atom-one-dark.min.css">
    <!-- 引入 highlight.js -->
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/highlight.min.js"></script>
    <!-- and it's easy to individually load additional languages -->
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/languages/go.min.js"></script>
</head>

<body>
    <div id="content"></div>
    <script>
        // 配置 marked 使用 highlight.js 
        marked.setOptions({
            highlight: function (code, lang) {
                // 如果指定了语言，尝试用对应的高亮 
                if (lang && hljs.getLanguage(lang)) {
                    return hljs.highlight(code, { language: lang }).value;
                }
                // 否则自动检测 
                return hljs.highlightAuto(code).value;
            }
        });
        // 读取并渲染 md 文件
        fetch('./docs/webgpu.md') // 这里换成你的 md 文件路径
            .then(response => response.text())
            .then(text => {
                // 使用 marked 将 Markdown 转换为 HTML
                document.getElementById('content').innerHTML = marked.parse(text);

                // 对所有代码块执行高亮
                document.querySelectorAll('pre code').forEach((block) => {
                    hljs.highlightElement(block);
                });
            })
            .catch(err => console.error(err));
    </script>
</body>

</html>